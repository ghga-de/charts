image:
  repository: "ghga/notification-orchestration-service"

configPrefix: nos

# Service parameters

# Name of the database
mongodb:
  dbName: notification-orchestration
# This parameter is used as Kafka's group id
serviceName: nos-consumer
# This parameter specifies the client id in Kafka
serviceInstanceId: nos-consumer-1
# This parameter is used as Kafka's group id
serviceNameConsumer: nos-consumer
# This parameter specifies the client id in Kafka
serviceInstanceIdConsumer: nos-consumer-1

parameters:
  default:
    central_data_stewardship_email: helpdesk@ghga.de
    helpdesk_email: helpdesk@ghga.de
    kafka_enable_dlq: true


containers:
- name: consumer
  type: consumer
  cmd: nos
  config:
    name: parameters
    key: parameters

topics:
  accessRequestEvents:
    # as consumer
    topic:
      name: access_request_topic
      value: access-requests
    types:
    - name: access_request_created_type
      value: access_request_created
    - name: access_request_allowed_type
      value: access_request_allowed
    - name: access_request_denied_type
      value: access_request_denied
  ivaStateChangeEvent:
    # as consumer
    topic:
      name: iva_state_changed_topic
      value: ivas
    types:
    - name: iva_state_changed_type
      value: iva_state_changed
  notificationEvent:
    # as producer
    topic:
      name: notification_topic
      value: notifications
    types:
    - name: notification_type
      value: notification
  secondFactorRecreatedEvent:
    # as consumer
    topic:
      name: auth_topic
      value: auth
    types:
    - name: second_factor_recreated_type
      value: second_factor_recreated
  userEvents:
    # as consumer
    topic:
      name: user_topic
      value: users
  deadLetterQueue:
    topic:
      name: kafka_dlq_topic
      value: dlq
