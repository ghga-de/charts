image:
  repository: "ghga/metldata"

config_prefix: metldata

parameters:
  default:
    artifact_infos: []
    db_connection_str: null
    db_name: metadata_artifacts
    host: 0.0.0.0
    loader_token_hashes: null  # <Please fill - The tokens must be the loader token generated using the data steward kit.>
    primary_artifact_name: embedded_public
    primary_dataset_name: EmbeddedDataset
    service_instance_id: 'rest.1'

containers:
- name: rest
  type: "rest"
  cmd: metldata
  config:
    name: parameters
    key: parameters

topics:
  datasetChangeEvent:
    topic:
      name: dataset_change_event_topic
      value: metadata_datasets
    types:
    - name: dataset_deletion_type
      value: dataset_deleted
    - name: dataset_upsertion_type
      value: dataset_created

  resourceChangeEvent:
    topic:
      name: resource_change_event_topic
      value: searchable_resources
    types:
    - name: resource_deletion_event_type
      value: searchable_resource_deleted
    - name: resource_upsertion_type
      value: searchable_resource_upserted
